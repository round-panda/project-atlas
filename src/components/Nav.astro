---
import { url } from '../utils/url.js';

// To add a new page to the nav, just add an entry to this array.
const navLinks = [
  { href: '/',         label: 'Home'    },
  { href: '/purpose',  label: 'Purpose' },
  { href: '/teams',    label: 'Teams'   },
  { href: '/join',     label: 'Join'    },
  { href: '/contact',  label: 'Contact' },
];

const currentPath = Astro.url.pathname;
---

<nav id="navbar">
  <div class="container nav-inner">
    <a href={url('/')} class="nav-logo">
      <!--
        REPLACE: swap logo-light.svg / logo-dark.svg with your actual logo files.
        logo-light = white version (over dark hero)
        logo-dark  = dark version (when navbar scrolls over light background)
      -->
      <img
        id="nav-logo-img"
        src={url('/assets/images/logo-light.svg')}
        data-light-src={url('/assets/images/logo-light.svg')}
        data-dark-src={url('/assets/images/logo-dark.svg')}
        alt="Project Atlas"
      />
    </a>

    <ul class="nav-links">
      {navLinks.map(({ href, label }) => (
        <li>
          <a href={url(href)} class={currentPath === url(href) ? 'active' : ''}>
            {label}
          </a>
        </li>
      ))}
      {/* Mobile-only CTA â€” hidden on desktop via CSS */}
      <li class="nav-mobile-cta">
        <a href={url('/join')}>Join Now</a>
      </li>
    </ul>

    <a href={url('/join')} class="nav-cta">Join Now</a>

    <button class="nav-hamburger" aria-label="Toggle menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>
